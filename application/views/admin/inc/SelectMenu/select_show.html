<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>下拉框</title> 
<style type="text/css">
a  {
text-decoration: underline;
cursor: auto;
text-decoration: none;
color: #333;
}

</style>
<script src="application/views/admin/js/jquery.js"></script>
</head>
<body>
<div style="float: left;">
	<div >
        <a target="_blank"> <div id="nbaTeamLists"></div> </a>
	</div>
</div>
 




</body>

<script type="text/javascript">
<?php 
		 $filedModel1=new FiledModel("filed");
         $filedId=$_GET["field_id"];
         $filedDetail=$filedModel1->selectByPk($filedId);
         $filedVal=$filedModel1->getFiledDefaultValue($filedId);	
         $selectMenuData="[";
         //$selectMenuData.="{id:'0' ,value:''}";
		foreach($filedVal as $k=>$v)
		{
			if($k==0)
				{
				    $selectMenuData.="{id:'".$v['key']."' ,value:'".$v['value']."'}";
				}else
				{
					$selectMenuData.=",{id:'".$v['key']."' ,value:'".$v['value']."'}";
				}
			
		}
		$selectMenuData.="]";
         
?>


//获取父框架的元素的默认值
var _ghyOb=$('#<?php echo $_GET["field"]?>', window.parent.document);
var selectValue="";
if(_ghyOb.val().trim()!="")
{
	selectValue=_ghyOb.val().trim();
	var temp_selectMenuData=eval ("(<?php echo $selectMenuData ?>)");
	for(var i=0;i<temp_selectMenuData.length;i++)
		{
		if(selectValue==temp_selectMenuData[i].id)
			$('#nbaTeamLists').append('<p><strong>'+temp_selectMenuData[i].value+'</strong></p>');
		}
}else
{
	$('#nbaTeamLists').append('<p><strong>请选择</strong></p>');
}
 
</script>

</html>
